
<section>
  <form #studentForm="ngForm" (ngSubmit)="addStudent(studentForm)" novalidate>
    <h2>Agregar Estudiante</h2>
    <label>Nombre</label>
    <input type="text" name="name" [(ngModel)]="student.name" required #nameInput="ngModel">
    <div *ngIf="nameInput.invalid && (nameInput.dirty || nameInput.touched)" class="error-msg">
      El nombre es obligatorio.
    </div>
    <label>Apellido</label>
    <input type="text" name="last_name" [(ngModel)]="student.last_name" required #lastNameInput="ngModel">
    <div *ngIf="lastNameInput.invalid && (lastNameInput.dirty || lastNameInput.touched)" class="error-msg">
      El apellido es obligatorio.
    </div>
    <label>DNI</label>
    <input type="text" name="dni" [(ngModel)]="student.dni" required pattern="^[0-9]{7,9}$" #dniInput="ngModel">
    <div *ngIf="dniInput.invalid && (dniInput.dirty || dniInput.touched)" class="error-msg">
      <span *ngIf="dniInput.errors?.['required']">El DNI es obligatorio.</span>
      <span *ngIf="dniInput.errors?.['pattern']">DNI inválido.</span>
    </div>
    <label>Fecha de nacimiento</label>
    <input type="date" name="birth_date" [(ngModel)]="student.birth_date" required #birthDateInput="ngModel">
    <div *ngIf="birthDateInput.invalid && (birthDateInput.dirty || birthDateInput.touched)" class="error-msg">
      La fecha de nacimiento es obligatoria.
    </div>
    <label>Teléfono</label>
    <input type="text" name="phone" [(ngModel)]="student.phone" required pattern="^[0-9\-\s+]{7,15}$" #phoneInput="ngModel">
    <div *ngIf="phoneInput.invalid && (phoneInput.dirty || phoneInput.touched)" class="error-msg">
      <span *ngIf="phoneInput.errors?.['required']">El teléfono es obligatorio.</span>
      <span *ngIf="phoneInput.errors?.['pattern']">Teléfono inválido.</span>
    </div>
    <label>Dirección</label>
    <input type="text" name="address" [(ngModel)]="student.address" required #addressInput="ngModel">
    <div *ngIf="addressInput.invalid && (addressInput.dirty || addressInput.touched)" class="error-msg">
      La dirección es obligatoria.
    </div>
    <button class="btn-dark" type="submit" [disabled]="loading || studentForm.invalid">Agregar</button>
    <div *ngIf="error" class="error-msg">{{ error }}</div>
    <div *ngIf="success" class="success-message">{{ success }}</div>
  </form>
</section>
